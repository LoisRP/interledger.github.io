---
layout: page
title: "Sending Value Programmatically | Interledger"
body-class: "spsp"
active-nav: "Docs"
active-sub-nav: "Sending Value Programmatically"
---
<!-- docs getting started section -->

<div class="container docs-wrapper">
    <div class="row">
        {% include docs-sidebar.html %}
        <div class="col-sm-8 wrapper">
            <h1 id="sending-value-programmatically">Sending Value Programmatically</h1>

            <p class="intro">This tutorial shows how to send value over ILP using the SPSP API.</p>

            <h2 id="prerequisites">Prerequisites</h2>

            <p>This tutorial assumes that you’re running <code class="highlighter-rouge">moneyd</code> and SPSP server on your computer.
                If you’re not set up, you can learn how to <a href="/docs/tutorials/getting-started.html">set up moneyd and SPSP here.</a></p>

            <h2 id="sending-value">Sending value</h2>

            <p>To send value programmatically, you need to install <code class="highlighter-rouge">ilp-protocol-spsp</code> and <code class="highlighter-rouge">ilp-plugin</code> modules.
                Open a command line and use the following commands:</p>

            <div class="language-shell highlighter-rouge">
                <div class="highlight">
                    <pre class="highlight"><code><span class="nv">$ </span>mkdir ilp-getting-started
<span class="nv">$ </span><span class="nb">cd </span>ilp-getting-started
<span class="nv">$ </span>npm init
<span class="nv">$ </span>npm install <span class="nt">--save</span> ilp-protocol-spsp ilp-plugin</code></pre>
                </div>
            </div>

            <p>Now, using an editor of your choice, create a <code class="highlighter-rouge">index.js</code> file and add the following code snippet:</p>

            <div class="language-js highlighter-rouge">
                <div class="highlight">
                    <pre class="highlight"><code><span class="kd">const</span> <span class="nx">plugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'ilp-plugin'</span><span class="p">)()</span>
<span class="kd">const</span> <span class="nx">SPSP</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'ilp-protocol-spsp'</span><span class="p">)</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">run</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'paying http://localhost:8080...'</span><span class="p">)</span>
  <span class="kr">await</span> <span class="nx">SPSP</span><span class="p">.</span><span class="nx">pay</span><span class="p">(</span><span class="nx">plugin</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">receiver</span><span class="p">:</span> <span class="s1">'http://localhost:8080'</span><span class="p">,</span>
    <span class="na">sourceAmount</span><span class="p">:</span> <span class="s1">'10'</span>
  <span class="p">})</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'paid!'</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">run</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
</code></pre>
                </div>
            </div>

            <p>Finally, run the code using the command:</p>

            <div class="language-shell highlighter-rouge">
                <div class="highlight">
                    <pre class="highlight"><code><span class="nv">$ </span>node index.js</code></pre>
                </div>
            </div>

            <p>You should see <code class="highlighter-rouge">paid!</code> on the sending terminal and <code class="highlighter-rouge">got packet for 10 units</code> on the receiving terminal confirming
                that you have successfully sent and received value through the Interledger protocol.</p>
        </div>
    </div>
</div> <!-- /container -->